<!DOCTYPE html>
<html>
  <head>
    <title>Notification Demo</title>
  </head>
  <body>
    <button class="notify-btn">Notify!</button>
    <script>
      document.querySelector(".notify-btn").addEventListener("click", () => {
        if (!("Notification" in window)) {
          alert("This browser does not support system notifications");
        } else if (Notification.permission === "granted") {
          console.log("inside notifications granted");
          notify();
        } else if (Notification.permission !== "denied") {
          Notification.requestPermission(function (permission) {
            if (permission === "granted") {
              notify();
            }
          });
        }

        function notify() {
          var notification = new Notification("STATIC NOTIFICATION", {
            body: "Notification Working!",
          });

          setTimeout(notification.close.bind(notification), 7000);
        }
      });
    </script>
  </body>
</html>
